# ๐จ ุญู ูุดููุฉ ุงูุฑุงุจุท ูุงูุงุชุตุงู

## โ ุงููุดููุฉ ุงูุญุงููุฉ
ุฃูุช ุชุณุชุฎุฏู ุฑุงุจุท ูุดุงุฑูุฉ Colab ูููุณ ุฑุงุจุท ุงูู API:
```
โ ุฎุทุฃ: https://colab.research.google.com/drive/1MLBrCQDC3cMSAqAa-9b_KmF6B0s_vc3s
โ ุตุญูุญ: https://abc123.ngrok.io
```

---

## ๐ง ุงูุญู ุงูุตุญูุญ

### ุงูุฎุทูุฉ 1: ุชุฃูุฏ ูู ุงูุชุดุบูู ุงูุตุญูุญ ูู Colab

1. **ุงูุชุญ ููู ูููุฐุฌู** `.ipynb` ูู Colab
2. **ุดุบู ุฌููุน ุงูุฎูุงูุง** ุญุชู ูุชู ุชุญููู ุงููููุฐุฌ
3. **ุฃุถู ุฎููุฉ ุฌุฏูุฏุฉ** ูุงูุชุจ ูููุง:

```python
# ุชุซุจูุช ุงูููุชุจุงุช ุฃููุงู
!pip install flask flask-cors pyngrok pillow tensorflow

# ุญูุธ ุงููููุฐุฌ (ุฅุฐุง ูู ููู ูุญููุธุงู)
model.save('brain_tumor_model.h5')
print("โ ุชู ุญูุธ ุงููููุฐุฌ")
```

4. **ุฃุถู ุฎููุฉ ุฃุฎุฑู** ูุงูุณุฎ ูููุง **ูุงูู ูุญุชูู** ููู `colab_integration_notebook.py`

### ุงูุฎุทูุฉ 2: ุดุบู ููุฏ ุงูู API

**ุดุบู ุงูุฎููุฉ** ุงูุชู ุชุญุชูู ุนูู ููุฏ ุงูู API ูุงูุชุธุฑ ุญุชู ุชุฑู:

```
๐ ุชู ุฅุนุฏุงุฏ ุงูุฎุงุฏู ุจูุฌุงุญ!
==================================================
๐ ุงูุฑุงุจุท ุงูุนุงู: https://abc123.ngrok.io
๐ ุงุฎุชุจุงุฑ ุงูุฎุงุฏู: https://abc123.ngrok.io/health
๐ง endpoint ุงูุชูุจุค: https://abc123.ngrok.io/predict
==================================================
```

### ุงูุฎุทูุฉ 3: ุงูุณุฎ ุงูุฑุงุจุท ุงูุตุญูุญ

**ุงูุณุฎ ุงูุฑุงุจุท** ุงูุฐู ูุจุฏุฃ ุจู `https://....ngrok.io` (ููุณ ุฑุงุจุท colab.research.google.com)

### ุงูุฎุทูุฉ 4: ุญุฏุซ ุงููููุน

ูู ููู `index.html`ุ ุงุณุชุจุฏู:
```javascript
const API_URL = 'YOUR_COLAB_URL_HERE';
```

ุจู:
```javascript
const API_URL = 'https://abc123.ngrok.io';  // ุงูุฑุงุจุท ุงูุตุญูุญ ูู ngrok
```

---

## ๐งช ุงุฎุชุจุงุฑ ุณุฑูุน

### ูู Colab:
ุงูุชุญ ุฑุงุจุท: `https://abc123.ngrok.io/health`
ูุฌุจ ุฃู ุชุฑู:
```json
{
  "status": "healthy",
  "model_loaded": true,
  "message": "ุงูุฎุงุฏู ูุนูู ุจุดูู ุทุจูุนู"
}
```

### ูู ุงููููุน:
- ุงูุชุญ ุงููููุน ูุดุงูุฏ ูู ุฃุนูู ุงููููู
- ูุฌุจ ุฃู ุชุฑู: ๐ข **ูุชุตู ุจูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู**

---

## ๐ ููุฏ ุงูุชุฌุฑุจุฉ ุงูุณุฑูุนุฉ

ุฅุฐุง ููุช ุชุฑูุฏ ุชุฌุฑุจุฉ ุณุฑูุนุฉุ ุงูุณุฎ ูุฐุง ุงูููุฏ ูู Colab:

```python
# === ููุฏ ุณุฑูุน ููุงุฎุชุจุงุฑ ===
!pip install flask flask-cors pyngrok pillow tensorflow

import tensorflow as tf
from tensorflow.keras.applications import MobileNetV2
from tensorflow.keras.layers import Dense, GlobalAveragePooling2D, Dropout
from tensorflow.keras.models import Model
import numpy as np
from flask import Flask, request, jsonify
from flask_cors import CORS
from pyngrok import ngrok
import threading
import time

# ุฅูุดุงุก ูููุฐุฌ ุชุฌุฑูุจู ุณุฑูุน
def create_quick_model():
    base_model = MobileNetV2(input_shape=(224, 224, 3), include_top=False, weights='imagenet')
    x = base_model.output
    x = GlobalAveragePooling2D()(x)
    x = Dense(3, activation='softmax')(x)
    model = Model(inputs=base_model.input, outputs=x)
    return model

model = create_quick_model()
print("โ ุงููููุฐุฌ ุฌุงูุฒ")

# ุฅุนุฏุงุฏ Flask
app = Flask(__name__)
CORS(app, origins=["*"])

@app.route('/health', methods=['GET'])
def health():
    return jsonify({
        'status': 'healthy',
        'model_loaded': True,
        'model_classes': ['ุงููุฑู ุงูุฏุจูู', 'ุงููุฑู ุงูุณุญุงุฆู', 'ุงููุฑู ุงููุฎุงูู']
    })

@app.route('/predict', methods=['POST'])
def predict():
    return jsonify({
        'success': True,
        'predictions': [
            {'type': 'ุงููุฑู ุงูุฏุจูู', 'probability': 75},
            {'type': 'ุงููุฑู ุงูุณุญุงุฆู', 'probability': 20},
            {'type': 'ุงููุฑู ุงููุฎุงูู', 'probability': 5}
        ]
    })

# ุชุดุบูู ุงูุฎุงุฏู
def run_flask():
    app.run(host='0.0.0.0', port=5000, debug=False)

flask_thread = threading.Thread(target=run_flask)
flask_thread.daemon = True
flask_thread.start()

time.sleep(3)
public_url = ngrok.connect(5000)

print("\n๐ ุชู ุฅุนุฏุงุฏ ุงูุฎุงุฏู ุงูุชุฌุฑูุจู!")
print(f"๐ ุงูุฑุงุจุท ุงูุนุงู: {public_url}")
print(f"๐ ุงุฎุชุจุงุฑ: {public_url}/health")
print("\nโ ุงูุณุฎ ูุฐุง ุงูุฑุงุจุท ูุงุณุชุฎุฏูู ูู ูููุนู")

# ุฅุจูุงุก ุงูุฎุงุฏู ูุนูู
try:
    while True:
        time.sleep(60)
        print(f"๐ ุงูุฎุงุฏู ูุนูู: {public_url}")
except KeyboardInterrupt:
    print("๐ ุชู ุฅููุงู ุงูุฎุงุฏู")
```

---

## ๐จ ูุดุงูู ุดุงุฆุนุฉ

### "CORS policy" error:
- **ุงูุณุจุจ**: ุฑุงุจุท ุฎุงุทุฆ ุฃู ุงูุฎุงุฏู ุบูุฑ ูููุนู
- **ุงูุญู**: ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุฑุงุจุท ngrok ูููุณ ุฑุงุจุท Colab

### "Failed to fetch":
- **ุงูุณุจุจ**: ุงูุฎุงุฏู ูุชููู ุฃู ุงูุฑุงุจุท ุงูุชูุช ุตูุงุญูุชู
- **ุงูุญู**: ุฃุนุฏ ุชุดุบูู ููุฏ Flask ูู Colab

### "No 'Access-Control-Allow-Origin'":
- **ุงูุณุจุจ**: ุชุณุชุฎุฏู ุฑุงุจุท ูุดุงุฑูุฉ Colab ุจุฏูุงู ูู API
- **ุงูุญู**: ุงุณุชุฎุฏู ุฑุงุจุท ngrok ุงูุตุญูุญ

---

## โ ุนูุงูุงุช ุงููุฌุงุญ

1. **ูู Colab**: ุชุฑู ุฑุณุงูุฉ "ุชู ุฅุนุฏุงุฏ ุงูุฎุงุฏู ุจูุฌุงุญ"
2. **ูู ุงููุชุตูุญ**: `https://abc123.ngrok.io/health` ูุนูู
3. **ูู ุงููููุน**: ุฅุดุงุฑุฉ ุฎุถุฑุงุก ุชุธูุฑ "ูุชุตู ุจูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู"

**๐ก ุชุฐูุฑ:** ุฑุงุจุท ngrok ูุคูุช ููุชุบูุฑ ูู ูุฑุฉ. ุงุญูุธ ุงูููุฏ ูู Colab ููุณูู ุฅุนุงุฏุฉ ุชุดุบููู. 